// WARNING: This file was generated by PrimeCodeGen. DO NOT EDIT.

package operations

import (
	"context"
	"net/http"

	"github.com/go-resty/resty/v2"
	"github.com/primelib/primecodegen-lib-go/requeststruct"
	"github.com/primelib/webmethods-api-gateway-client/sdk/go/pkgs/models"
)

type GetTransactionsCountRequest struct {
	APIName         *string `queryParam:"style=simple,explode=false,name=apiName"`         // The name of the API  for which the invocation count is required.The exact name must be provided or regular expressions can be used like API_.*
	APIVersion      *string `queryParam:"style=simple,explode=false,name=apiVersion"`      // The version of the API
	APIId           *string `queryParam:"style=simple,explode=false,name=apiId"`           // The system generated id for an API.The id of an can be retrieved from the API details screen
	ApplicationName *string `queryParam:"style=simple,explode=false,name=applicationName"` // The name of the Application for which the invocation count is required.The exact name must be provided or regular expressions can be used like APP_.*
	ApplicationId   *string `queryParam:"style=simple,explode=false,name=applicationId"`   // The system generated id for an Application.The id of an can be retrieved from the Application details screen
	PackageName     *string `queryParam:"style=simple,explode=false,name=packageName"`     // The name of the Package for which the invocation count is required.The exact name must be provided or regular expressions can be used like Package_.*
	PackageId       *string `queryParam:"style=simple,explode=false,name=packageId"`       // The system generated id for a Package.The id of an can be retrieved from the Package details screen
	PlanName        *string `queryParam:"style=simple,explode=false,name=planName"`        // The name of the Plan  for which the invocation count is required.The exact name must be provided or regular expressions can be used like Plan_.*
	PlanId          *string `queryParam:"style=simple,explode=false,name=planId"`          // The system generated id for a Plan.The id of an can be retrieved from the Plan details screen
	FromDate        *string `queryParam:"style=simple,explode=false,name=fromDate"`        // This is the date from which the count has to be retrieved for the matching filter criteria.It is a mandatory parameter and it should be of the format YYYY-MM-DD. Regular expression support is not available for this parameter
	ToDate          *string `queryParam:"style=simple,explode=false,name=toDate"`          // This is the date to which the count has to be retrieved for the matching filter criteria.It is a mandatory parameter and it should be of the format YYYY-MM-DD. Regular expression support is not available for this parameter
}

type GetTransactionsCountResponse struct {
	// Success response
	Result *models.TransactionMgmtTransactionResponse
	// Error response
	// HTTP response status code for this operation
	StatusCode int
	// Raw HTTP response; suitable for custom response parsing
	RawResponse *http.Response
}

// GetTransactionsCount This method can be used to retrieve the number of transaction events for a given API/Application/Plan/Package for a specific period of time. Multiple request parameters of this method provide options to specify the request criteria to match the expected result and most of these input parameters supports regular expression in their values. Along with the mandatory parameters - fromDate and toDate, any one of the other filter criteria should be passed in the request.
//
//meta:operation GET /transactionalEvents/_count
func GetTransactionsCount(client *resty.Client, ctx context.Context, req GetTransactionsCountRequest) (*GetTransactionsCountResponse, error) {
	r := client.R().SetContext(ctx)

	// process request parameters
	reqData, err := requeststruct.ResolveRequestParams(req)
	if err != nil {
		return nil, err
	}
	r.SetHeader("Accept", "application/json")
	r.SetHeaders(reqData.HeaderParams)
	r.SetPathParams(reqData.PathParams)
	r.SetQueryParamsFromValues(reqData.QueryParams)
	if reqData.BodyParam != nil {
		r.SetBody(reqData.BodyParam)
	}
	result := new(models.TransactionMgmtTransactionResponse)
	r.SetResult(result)

	// send the request
	resp, err := r.Get("/transactionalEvents/_count")
	if err != nil {
		return nil, err
	}

	return &GetTransactionsCountResponse{
		StatusCode:  resp.StatusCode(),
		RawResponse: resp.RawResponse,
		Result:      result,
	}, nil
}
